# ðŸš€ Hiring & Assessment Platform - Development Specifications

## 1. System Architecture Overview
* **Frontend:** React.js (Suggested for component reuse in dashboards)
* **Backend:** API Gateway (Flask/Django/Node) to handle requests and route to AI Models.
* **Database:** Relational DB (MySQL/PostgreSQL) for user data; NoSQL (MongoDB) optional for storing JSON-heavy interview reports.

---

## 2. Dashboard Requirements

### A. Super Admin / Company Admin Dashboard
*Target User: Platform Owners or Company Executives*

**Frontend Features:**
* **Organization Management:** CRUD operations for onboarding new companies/departments.
* **User Role Management:** Assign access levels (HR, Interviewer, Admin).
* **Global Analytics:** Total assessments conducted, credits used, server health status.

**Backend Requirements:**
* `POST /admin/create-company`: Endpoint to initialize organization schemas.
* `GET /admin/stats`: Aggregate data fetch.

### B. HR / Hiring Manager Dashboard
*Target User: Recruiters*

**Frontend Features:**
* **Job Creation Wizard:** Input JD, required skills, and link specific Assessment Modules (AI or Coding).
* **Candidate Pipeline:** Kanban board (Applied -> Assessment Sent -> Interviewed -> Offer).
* **Report Review:** View detailed candidate analysis (generated by your models).
    * *Visuals:* Charts for scores, code complexity graphs, and video playback.

**Backend Requirements:**
* `POST /job/create`: Save job metadata.
* `POST /assessment/invite`: Send magic links to candidates.
* `GET /candidate/{id}/report`: Fetch the JSON report generated by the AI model.

---

## 3. Candidate Portal (Core Focus)
*Target User: Applicants*

This is the most complex dashboard due to real-time interactions and security constraints.

### A. General UI/UX
* **Lobby/Instruction Screen:** System check (Camera, Mic, Network).
* **Dashboard:** List of assigned assessments with status (Pending, Completed).

### B. Module 1: Live Coding Environment
**Frontend Components:**
* **Code Editor:** Monaco Editor or CodeMirror (Read-only mode for questions, write mode for answers).
* **Language Selector:** Dropdown to select language.
* **Control Bar:** "Run Code", "Submit", "Reset".
* **Output Console:** Displays stdout/stderr.
* **Analysis Panel (Post-Submission):**
    * *Display:* "Issues Found", "Suggestions", "Time Complexity", "Space Complexity".
    * *Note:* This data comes directly from your AI Model response.

**Backend Integration:**
* `POST /code/execute`: Sends code to compiler.
* `POST /code/analyze`: **[LINK TO YOUR MODEL]** Sends code -> Returns JSON `{ issues: [], complexity: "", score: int }`.

### C. Module 2: AI Interview & Practice
**Frontend Components:**
* **Video Interface:** Split screen (User camera + AI Avatar/Text prompt).
* **Audio Visualizer:** Waveform to show mic activity.
* **Speech-to-Text (STT) Display:** Real-time transcription (optional but recommended).

**Backend Integration:**
* `WS /interview/stream`: WebSocket connection for real-time audio/video streaming.
* `POST /interview/response`: **[LINK TO YOUR MODEL]** Sends candidate answer -> Returns next question or analysis.

---

## 4. Security & Proctoring Implementation (Critical)

**Frontend (React) Implementation Guide:**

1.  **Tab Change Detection (Visibility API):**
    * Listen for `document.onvisibilitychange`.
    * *Action:* Trigger warning modal; auto-submit after 3 warnings.
    * *API Call:* `POST /proctor/log` (payload: `{type: "TAB_SWITCH", timestamp: ...}`).

2.  **No Copy/Paste Content:**
    * CSS: `user-select: none;` on question text.
    * JS: Prevent default on `contextmenu` (right-click), `copy`, `cut`, and `paste` events within the editor window.

3.  **Full Screen Enforcement:**
    * On "Start Test", trigger `element.requestFullscreen()`.
    * Listen for `fullscreenchange`. If user exits:
        * Pause timer.
        * Blur screen content.
        * Show "Return to Fullscreen to Continue" overlay.

4.  **Device Monitoring:**
    * Periodic webcam snapshots (every 30s) sent to backend to detect "Multiple Faces" or "No Face".

---

## 5. API Data Contracts (Connecting Your Models)

*Your developers need these JSON structures to connect the UI to your models.*

### Endpoint: `/api/v1/generate-report`
*Triggered when Candidate clicks "Submit Final Assessment"*

**Request Payload (Sent from Frontend):**
```json
{
  "candidateId": "12345",
  "assessmentId": "67890",
  "codeSnapshot": "def solution(): ...",
  "browserLogs": [
    {"event": "TAB_SWITCH", "time": "10:05:01"},
    {"event": "COPY_ATTEMPT", "time": "10:12:30"}
  ],
  "audioTranscript": "I think the complexity is O(n)..."
}